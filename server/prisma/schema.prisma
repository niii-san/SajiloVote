generator client {
    provider = "prisma-client-js"
    output   = "../generated/prisma"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id             Int       @id @default(autoincrement())
    first_name     String
    last_name      String
    suspended      Boolean   @default(false)
    suspended_till DateTime? @db.Timestamptz()
    email_address  String    @unique
    password       String
    created_at     DateTime  @default(now()) @db.Timestamptz()
    updated_at     DateTime  @updatedAt @db.Timestamptz()
    events_created Event[]

    @@map("users")
}

model Event {
    id          Int        @id @default(autoincrement())
    title       String
    description String?
    type        EVENT_TYPE
    creator_id  Int
    start_type  START_TYPE
    start_at    DateTime?
    end_type    END_TYPE
    end_at      DateTime?
    created_at  DateTime   @default(now()) @db.Timestamptz(6)
    updated_at  DateTime   @updatedAt @db.Timestamptz(6)
    creator     User       @relation(fields: [creator_id], references: [id])

    @@map("events")
}

enum EVENT_TYPE {
    POLL
    VOTE
}

enum START_TYPE {
    IMMEDIATE
    MANUAL
    TIME
}

enum END_TYPE {
    MANUL
    TIME
}
